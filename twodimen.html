<!DOCTYPE html>
<html>

<head>
  <style type="text/css" id="dcoder_stylesheet">
    .grid-container>div {
      border: 1px solid #333;
    }

    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>

  <div class="grid-container" id="grid-container">
    <div>1</div>
    <div>2</div>
    <div>3</div>
  </div>


  <script>
    Object.prototype.isMaterial = function (param) {
      if (!param) { return }
      if(param.constructor === Object){return true};
    }
    String.prototype.isString = function (param) {
      if (!param) { return }
      return param.constructor === String ? true : false;
    }

    //creating new method to split a number into two numbers of golden ratio ie. 38.2 and 61.8
    Number.prototype.splits = function (a, b, c) {
      if(!arguments){return} 
      this.left = arguments[0];
      this.right = arguments[1];
      this.direction = arguments[2];
      this.master = {}
      for (var i = 0; i < arguments.length; i++) {
        this.master[functionOrder[i]] = (!isNaN(arguments[i]) ? arguments[i] * 1 : arguments[i]);
        this.master.sum = this.valueOf()
      }
      return this
    }
    
    //Physheet framework's keywords and identifiers.
    const vp = ["vw", "vh"];
    const directionKeywords = ["perpendicular", "parallel", "both", "none"];
    const units = ["vh", "%", "em"];
    const baseNums = [38.2, 61.8, 100, 1.618, 0];
    const functionOrder = ["left", "right", "direction", "rotation", "modify", "clear"];
    const gridKeywords = ['verGrids', 'horGrids']
    const perpendicular = 0;
    const parallel = 1;

    //Goldern ratio and its default value.
    const ratio = 1.618;
    const parent = 100;
    const lg = 61.2;
    const sm = 38.8;

    //Grid system takes values from layout class to set values of Modern CSS Grid system. 
    class grid {
      constructor(parent, x, y) {
        this.gridParent = document.getElementById(parent);
        this.gridParent.style.display = "grid";
        this.gridParent.style.gridTemplateColumns = x.join(" ");
        this.gridParent.style.gridTemplateRows = y.join(" ");
      }
      assignCoordinate(item, coordinates) {
        let [x1, y1, x2, y2] = coordinates;
        this.getGridBox = item;
        this.getGridBox.style.gridColumnStart = x1 + 1
        this.getGridBox.style.gridRowStart = y1 + 1
        this.getGridBox.style.gridColumnEnd = x2 + 1
        this.getGridBox.style.gridRowEnd = y2 + 1
      }
    }

    //Layout class processes converted 2D objects  
    class layout {
      constructor(material2D) {

        //assigning this value
        [this.primitive, this.left, this.right, this.direction, this.master] = Object.values(material2D)

        //re-defining with length units
        let perpendicular = this.primitive + "%";
        let parallel = this.primitive + "vh";
       
        //Making cartesian system for the layout.
        this.xAxis = [perpendicular]
        this.yAxis = [parallel]

        //Applying condition from this.direction to put values into cartesian layout if directions change.
        if (this.direction == "perpendicular") {
          perpendicular = { left: this.left, right: this.right, direction: this.direction }
          this.xAxis = [this.left+ "%", this.right+ "%"]
        }
        if (this.direction == "parallel") {
          parallel = { left: this.left, right: this.right, direction: this.direction }
          this.yAxis = [this.left + "vh", this.right + "vh"]
        }
      }

      compose(value,direction,count) {
        //points on the axis
        let xPoints = [...this.xAxis];
        let yPoints = [...this.yAxis];

        //adding origins to the cartesian system.
        yPoints.unshift(0) 
        xPoints.unshift(0)
        
        //vertical and horizontal lines use column and row lines from the system.
        let verLines = [], horLines = []

        //changing values of both lines into points
        xPoints.map((x, y, z) => { verLines.push(y) })
        yPoints.map((x, y, z) => { horLines.push(y) })

        //assigning default values from the lines to order pairs of the system. 
        let [x1, x2] = [0,1]
        let [y1, y2] = [0,1]

        //re-assigning default values on the basis of condition. 
        if (direction == 'perpendicular') {
          let [x1, x2] = [count, count+1]
          console.log(x1, x2, y1, y2)
          return [x1, y1, x2, y2]
        }
      }

      getCoordinate() {
        //assigning from the construction object of this class to new array and removing the first element from resulting array using Array.shift() method.
        let workArray = Object.values(this);
        workArray.shift()
        
        //The new resulting array 
        workArray.map((element, index) => {

          //if any of element(key of this object) detects itself to be an object calls itself again back from getCoodinating with the main object element.
          if(Object.isMaterial(element)){
            this.getCoordinate(element)
          }

          //if the element detects number it sents the number, direction and position(index) in the object of main object element.
          if(Number.isFinite(element)) {
            let children = document.getElementsByTagName('div')[0].children;
            one.assignCoordinate(children[index], this.compose(element,workArray[2],index))
            console.log(children[index])
          }
        })
      }
    }

    //To change the syntax of main selected object into two dimenstional object of the grid.
    class construct2D {
      constructor(material1D){
        [this.left, this.right, this.direction, this.master] = Object.values(material1D);
        this.material2D = {};
      }
      parallel(value){
        this.x ="abc"
      }
      perpendicular(value){
        console.log(this.x)
      }

      dimension2d(){
        this.perpendicular()
        let master = this
        for(const key in this){
          if(!(this[key] instanceof Function)){
            delete this.material2D
            delete this.master
            console.log(key,this[key])
            if(Object.isMaterial(this[key])){
              this.dimension2d(this[key])
            }
          }
        }
        this.material2D
      }
    }

    var k = (100).splits(lg, sm.splits(lg, sm, "parallel"), "perpendicular");
    const structure = new construct2D(k)
    structure.dimension2d()
    //let lay = new layout()
    //let one = new grid("grid-container", lay.xAxis, lay.yAxis);
    //lay.getCoordinate()
    //console.log(k)
    let masterObject = { left: 61.2, right: 38.8, direction: "parallel" }
  </script>

</body>

</html>