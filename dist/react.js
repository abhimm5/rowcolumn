"use strict";var M=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var P=(t,e)=>{for(var s in e)M(t,s,{get:e[s],enumerable:!0})},_=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of I(e))!H.call(t,o)&&o!==s&&M(t,o,{get:()=>e[o],enumerable:!(r=C(e,o))||r.enumerable});return t};var O=t=>_(M({},"__esModule",{value:!0}),t);var Y={};P(Y,{Grid:()=>F,Layout:()=>q,auto:()=>Z,lg:()=>G,sm:()=>U});module.exports=O(Y);var R=require("react");function W(t){let e={t:0,r:0,b:0,l:0};return t.forEach(s=>{let r=s.match(/^([trbl])(\d+)$/);r&&(e[r[1]]+=parseInt(r[2],10))}),e}var S=class t{constructor(e,s="leaf",r=[]){this.size=e;this.type=s;this.children=r;this.isSkippedSelf=!1;this.offsetIndices=[];this.styles={};this.spreadData={t:0,r:0,b:0,l:0};this.childPropRules=[];this.childSpreadRules=[]}col(...e){return new t(this.size,"col",e)}row(...e){return new t(this.size,"row",e)}offset(e){return Array.isArray(e)?this.offsetIndices=e:this.isSkippedSelf=!0,this}props(e){return this.styles={...this.styles,...e},this}childProps(e,s){return this.childPropRules.push({data:e,indices:s||null}),this}spread(e,s){let r=W(e);return s?this.childSpreadRules.push({data:r,indices:s}):(this.spreadData.t+=r.t,this.spreadData.r+=r.r,this.spreadData.b+=r.b,this.spreadData.l+=r.l),this}},T=class{constructor(e,s,r,o,n,c,b,y={t:0,r:0,b:0,l:0}){this.x=e;this.y=s;this.w=r;this.h=o;this.styles=n;this.isSkipped=c;this.customSize=b;this.spreadData=y}},$=!1;function D(){if($)return;$=!0;let t=s=>new S(s),e=(s,r=!1)=>{if(s.col)return;let o=n=>t(r?String(n):n);s.col=function(...n){return new S(r?String(this):this,"col",n)},s.row=function(...n){return new S(r?String(this):this,"row",n)},s.offset=function(n){return o(this).offset(n)},s.props=function(n){return o(this).props(n)},s.childProps=function(n,c){return o(this).childProps(n,c)},s.spread=function(n,c){return o(this).spread(n,c)}};e(Number.prototype,!1),e(String.prototype,!0)}var j={bps:{sm:576,md:768,lg:992,xl:1200,xxl:1400},_strMap:new Map,_strCounter:0,init(){D(),this.upd(),typeof window<"u"&&window.addEventListener("resize",()=>this.upd())},upd(){typeof document<"u"&&document.querySelectorAll("[layout]").forEach(t=>this.render(t))},evalLayout(t){if(t)try{return new Function("lg","sm","Grid","auto","return "+t)(61.8,38.2,100,"auto")}catch(e){console.error(`Layout Error: "${t}"`,e);return}},isNode(t){return t&&typeof t=="object"&&Array.isArray(t.children)&&(t.type==="col"||t.type==="row"||t.type==="leaf")},render(t,e){D();let s=e;if(!s){let i=window.innerWidth,a=["xxl","xl","lg","md","sm"],d=t.getAttribute("layout");for(let f of a)if(i>=this.bps[f]&&t.hasAttribute(`layout-${f}`)){d=t.getAttribute(`layout-${f}`);break}d&&(s=this.evalLayout(d))}if(!s)return;if(s.styles){let{className:i,class:a,...d}=s.styles;i&&t.classList.add(...i.split(" ")),a&&t.classList.add(...a.split(" ")),Object.assign(t.style,d)}let r=[];this.calc(s,0,0,100,100,r,!1,[],[],[],{val:0});let{cw:o,rh:n,xc:c,yc:b}=this.mesh(r);t.style.display="grid",t.style.gridTemplateColumns=o.join(" "),t.style.gridTemplateRows=n.join(" ");let y=Array.from(t.children);y.forEach((i,a)=>{i.style.gridColumn="",i.style.gridRow="",i.style.cssText=""});let u=0;r.forEach(i=>{if(i.isSkipped||!y[u])return;let a=y[u++],d=this.idx(c,i.x)+1,f=this.idx(c,i.x+i.w)+1,h=this.idx(b,i.y)+1,g=this.idx(b,i.y+i.h)+1;if(i.spreadData&&(d=Math.max(1,d-i.spreadData.l),h=Math.max(1,h-i.spreadData.t),f+=i.spreadData.r,g+=i.spreadData.b),a.style.gridColumn=`${d} / ${f}`,a.style.gridRow=`${h} / ${g}`,i.styles){let{className:x,class:w,...L}=i.styles;x&&a.classList.add(...x.split(" ")),w&&a.classList.add(...w.split(" ")),Object.assign(a.style,L)}})},calc(t,e,s,r,o,n,c,b,y,u,i){if(!t)return;(typeof t=="number"||t==="auto")&&(t=new S(t==="auto"?"auto":t,"leaf"));let a=this.isNode(t),d=c||a&&t.isSkippedSelf,f=[...b],h=[...y],g=[...u];a&&(t.offsetIndices?.length&&f.push({idx:t.offsetIndices,c:0}),t.childPropRules.length&&t.childPropRules.forEach(p=>h.push({rule:p,counter:{val:0}})),t.childSpreadRules.length&&t.childSpreadRules.forEach(p=>g.push({rule:p,counter:{val:0}})));let x;if(a&&typeof t.size=="string"&&(x=t.size),!a||!t.children.length){let p=d;for(let l=0;l<f.length;l++)f[l].c++,f[l].idx.includes(f[l].c)&&(p=!0);p||(i.val++,h.forEach(l=>l.counter.val++),g.forEach(l=>l.counter.val++));let m=a?{...t.spreadData}:{t:0,r:0,b:0,l:0},N=a?{...t.styles}:{};p||(g.forEach(l=>{(!l.rule.indices||l.rule.indices.includes(l.counter.val))&&(m.t+=l.rule.data.t,m.r+=l.rule.data.r,m.b+=l.rule.data.b,m.l+=l.rule.data.l)}),h.forEach(l=>{(!l.rule.indices||l.rule.indices.includes(l.counter.val))&&Object.assign(N,l.rule.data)})),n.push(new T(e,s,r,o,N,p,x,m));return}let w=0;t.children.forEach(p=>{let m=this.isNode(p)?p.size:p;typeof m=="string"?m=0:this.isNode(p)&&p.size===0&&(m=1),w+=Number(m)}),w===0&&(w=1);let L=t.type==="col"?e:s;t.children.forEach((p,m)=>{let N=this.isNode(p)?p.size:p,l=typeof N=="string",z=l?0:Number(N);this.isNode(p)&&p.size===0&&!l&&(z=1);let A=z/w,v=0;if(l&&(this._strCounter++,v=1e-6+this._strCounter*1e-7,this._strMap.set(v.toFixed(9),N)),t.type==="col"){let E=l?v:r*A;this.calc(p,L,s,E,o,n,d,f,h,g,i),L+=E}else{let E=l?v:o*A;this.calc(p,e,L,r,E,n,d,f,h,g,i),L+=E}})},mesh(t){this._strCounter=0;let e=[0],s=[0],r=0,o=0;t.forEach(u=>{e.push(u.x,u.x+u.w),s.push(u.y,u.y+u.h),u.x+u.w>r&&(r=u.x+u.w),u.y+u.h>o&&(o=u.y+u.h)}),r>1&&e.push(100),o>1&&s.push(100);let n=u=>[...new Set(u.sort((i,a)=>i-a))].filter((i,a,d)=>a===0||Math.abs(i-d[a-1])>1e-8),c=n(e),b=n(s),y=u=>{let i=[];for(let a=1;a<u.length;a++){let d=u[a]-u[a-1],f=null;for(let[h,g]of this._strMap){let x=Number(h);if(Math.abs(d-x)<1e-8){f=g;break}}i.push(f||d+"fr")}return i};return{xc:c,yc:b,cw:y(c),rh:y(b)}},idx(t,e){let s=-1,r=1/0;return t.forEach((o,n)=>{let c=Math.abs(o-e);c<r&&(r=c,s=n)}),s},compileCSS(t){let e=this.evalLayout(t);if(!e)return null;let s=[];this.calc(e,0,0,100,100,s,!1,[],[],[],{val:0});let{cw:r,rh:o,xc:n,yc:c}=this.mesh(s),b=`display: grid; grid-template-columns: ${r.join(" ")}; grid-template-rows: ${o.join(" ")};`,y="",u=1;for(let i of s){if(i.isSkipped)continue;let a=this.idx(n,i.x)+1,d=this.idx(n,i.x+i.w)+1,f=this.idx(c,i.y)+1,h=this.idx(c,i.y+i.h)+1;i.spreadData&&(a=Math.max(1,a-i.spreadData.l),f=Math.max(1,f-i.spreadData.t),d+=i.spreadData.r,h+=i.spreadData.b),y+=`
  & > :nth-child(${u++}) { grid-area: ${f} / ${a} / ${h} / ${d}; }`}return b+y}};var k=require("react/jsx-runtime");typeof window<"u"&&D();var F=100,G=61.8,U=38.2,Z="auto",q=({children:t,layout:e,"layout-sm":s,"layout-md":r,"layout-lg":o,"layout-xl":n,"layout-xxl":c,...b})=>{let y=(0,R.useRef)(null),u=()=>{if(typeof window>"u")return;let d=window.innerWidth;if(d>=1400&&typeof c=="object")return c;if(d>=1200&&typeof n=="object")return n;if(d>=992&&typeof o=="object")return o;if(d>=768&&typeof r=="object")return r;if(d>=576&&typeof s=="object")return s;if(typeof e=="object")return e},i=()=>{y.current&&j.render(y.current,u())};(0,R.useEffect)(()=>{i()}),(0,R.useEffect)(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[e,s,r,o,n,c]);let a={...b};return typeof e=="string"&&(a.layout=e),typeof s=="string"&&(a["layout-sm"]=s),typeof r=="string"&&(a["layout-md"]=r),typeof o=="string"&&(a["layout-lg"]=o),typeof n=="string"&&(a["layout-xl"]=n),(0,k.jsx)("div",{ref:y,...a,style:{display:"grid",width:"100%",height:"100%",...b.style},children:t})};0&&(module.exports={Grid,Layout,auto,lg,sm});
