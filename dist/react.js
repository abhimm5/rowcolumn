"use strict";var A=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var G=(t,e)=>{for(var n in e)A(t,n,{get:e[n],enumerable:!0})},U=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of B(e))!F.call(t,a)&&a!==n&&A(t,a,{get:()=>e[a],enumerable:!(s=V(e,a))||s.enumerable});return t};var Z=t=>U(A({},"__esModule",{value:!0}),t);var X={};G(X,{Grid:()=>Y,Layout:()=>W,auto:()=>Q,lg:()=>J,sm:()=>K});module.exports=Z(X);var D=require("react");function q(t){return{t:t.top||0,r:t.right||0,b:t.bottom||0,l:t.left||0}}function z(t,e,n){if(t instanceof L||typeof t!="object"||t===null)return t;let s=t,a=Object.keys(s).sort((u,y)=>(n[y]||0)-(n[u]||0));for(let u of a)if(e>=(n[u]||0))return s[u];return s.xs??s.default??1}function P(t,e){if(!e)return;let{className:n,class:s,...a}=e;n&&t.classList.add(...String(n).split(" ")),s&&t.classList.add(...String(s).split(" ")),Object.assign(t.style,a)}var L=class t{constructor(e,n="leaf",s=[]){this.size=e;this.type=n;this.children=s;this.isSkippedSelf=!1;this.offsetIndices=[];this.styles={};this.spanData={t:0,r:0,b:0,l:0};this.childPropRules=[];this.childSpanRules=[]}col(...e){return new t(this.size,"col",e)}row(...e){return new t(this.size,"row",e)}offset(e){return Array.isArray(e)?this.offsetIndices=e:this.isSkippedSelf=!0,this}props(e){return this.styles={...this.styles,...e},this}childProps(e,n){return this.childPropRules.push({data:e,indices:n||null}),this}span(e,n){let s=q(e);return n?this.childSpanRules.push({data:s,indices:n}):(this.spanData.t+=s.t,this.spanData.r+=s.r,this.spanData.b+=s.b,this.spanData.l+=s.l),this}},C=class{constructor(e,n,s,a,u,y,m,h={t:0,r:0,b:0,l:0}){this.x=e;this.y=n;this.w=s;this.h=a;this.styles=u;this.isSkipped=y;this.customSize=m;this.spanData=h}},H=!1;function I(){if(H)return;H=!0;let t=(e,n=!1)=>{if(e.col)return;let s=a=>new L(n?String(a):a);e.col=function(...a){return new L(n?String(this):this,"col",a)},e.row=function(...a){return new L(n?String(this):this,"row",a)},e.offset=function(a){return s(this).offset(a)},e.props=function(a){return s(this).props(a)},e.childProps=function(a,u){return s(this).childProps(a,u)},e.span=function(a,u){return s(this).span(a,u)}};t(Number.prototype,!1),t(String.prototype,!0)}var _={bps:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},_strMap:new Map,_strCounter:0,init(){I(),this.upd(),typeof window<"u"&&window.addEventListener("resize",()=>this.upd())},upd(){typeof document<"u"&&document.querySelectorAll("[layout]").forEach(t=>this.render(t))},evalLayout(t){if(t)try{return new Function("lg","sm","Grid","auto","none","return "+t)(61.8,38.2,100,"auto","none")}catch{return}},isNode(t){return t&&typeof t=="object"&&Array.isArray(t.children)},render(t,e){I();let n=typeof window<"u"?window.innerWidth:0,s=e;if(!s){let i=n>=1400&&t.getAttribute("layout-xxl")||n>=1200&&t.getAttribute("layout-xl")||n>=992&&t.getAttribute("layout-lg")||n>=768&&t.getAttribute("layout-md")||n>=576&&t.getAttribute("layout-sm")||t.getAttribute("layout");i&&(s=this.evalLayout(i))}if(!s)return;P(t,s.styles);let a=[];this.calc(s,0,0,100,100,a,!1,[],[],[],{val:0},n,{t:0,r:0,b:0,l:0});let{cw:u,rh:y,xc:m,yc:h}=this.mesh(a);t.style.display="grid",t.style.gridTemplateColumns=u.join(" "),t.style.gridTemplateRows=y.join(" ");let l=Array.from(t.children);l.forEach(i=>{i.style.gridArea="",i.style.display=""});let r=0;a.forEach(i=>{if(i.isSkipped)return;let d=l[r++];if(!d)return;if(i.styles?.display==="none"){d.style.display="none";return}let b=this.idx(m,i.x)+1,o=this.idx(m,i.x+i.w)+1,x=this.idx(h,i.y)+1,S=this.idx(h,i.y+i.h)+1;i.spanData&&(b=Math.max(1,b-i.spanData.l),x=Math.max(1,x-i.spanData.t),o+=i.spanData.r,S+=i.spanData.b),d.style.gridColumn=`${b} / ${o}`,d.style.gridRow=`${x} / ${S}`,P(d,i.styles)})},calc(t,e,n,s,a,u,y,m,h,l,r,i,d){if(t==null)return;let b=z(t,i,this.bps),o;this.isNode(b)?(o=b,o.size=z(o.size,i,this.bps)):o=new L(b,"leaf");let x=this.isNode(o),S=y||o.isSkippedSelf,E=[...m];x&&o.offsetIndices?.length&&E.push({idx:o.offsetIndices,c:0});let N={...d};x&&(N.t+=o.spanData.t,N.r+=o.spanData.r,N.b+=o.spanData.b,N.l+=o.spanData.l);let w=[...h],R=[...l];if(o.childPropRules.length&&o.childPropRules.forEach(p=>w.push({rule:p,counter:{val:0}})),o.childSpanRules.length&&o.childSpanRules.forEach(p=>R.push({rule:p,counter:{val:0}})),o.type==="leaf"||!o.children.length){let p=S;E.forEach(c=>{c.c++,c.idx.includes(c.c)&&(p=!0)}),p||(r.val++,w.forEach(c=>c.counter.val++),R.forEach(c=>c.counter.val++));let f={...N};p||R.forEach(c=>{(!c.rule.indices||c.rule.indices.includes(c.counter.val))&&(f.t+=c.rule.data.t,f.r+=c.rule.data.r,f.b+=c.rule.data.b,f.l+=c.rule.data.l)});let g={...o.styles};o.size==="none"&&(g.display="none"),p||w.forEach(c=>{(!c.rule.indices||c.rule.indices.includes(c.counter.val))&&Object.assign(g,c.rule.data)}),u.push(new C(e,n,s,a,g,p,typeof o.size=="string"?o.size:void 0,f));return}let v=0,j=o.children.map(p=>{let f=z(p,i,this.bps);return this.isNode(f)&&(f.size=z(f.size,i,this.bps)),f});j.forEach(p=>{let f=this.isNode(p)?p.size:p;f==="none"||typeof f=="string"?f=0:this.isNode(p)&&p.size===0&&(f=1),v+=Number(f)}),v===0&&(v=1);let T=o.type==="col"?e:n;j.forEach(p=>{let f=this.isNode(p)?p.size:p,g=typeof f=="string",c=g?0:Number(f);this.isNode(p)&&p.size===0&&!g&&(c=1);let $=c/v,k=0;if(g&&f!=="none"&&(this._strCounter++,k=1e-6+this._strCounter*1e-7,this._strMap.set(k.toFixed(9),f)),o.type==="col"){let M=g?k:s*$;this.calc(p,T,n,M,a,u,S,E,w,R,r,i,{t:0,r:0,b:0,l:0}),T+=M}else{let M=g?k:a*$;this.calc(p,e,T,s,M,u,S,E,w,R,r,i,{t:0,r:0,b:0,l:0}),T+=M}})},mesh(t){this._strCounter=0;let e=[0],n=[0],s=0,a=0;t.forEach(l=>{e.push(l.x,l.x+l.w),n.push(l.y,l.y+l.h),s=Math.max(s,l.x+l.w),a=Math.max(a,l.y+l.h)}),s>1&&e.push(100),a>1&&n.push(100);let u=l=>[...new Set(l.sort((r,i)=>r-i))].filter((r,i,d)=>i===0||Math.abs(r-d[i-1])>1e-8),y=u(e),m=u(n),h=l=>{let r=[];for(let i=1;i<l.length;i++){let d=l[i]-l[i-1],b=null;for(let[o,x]of this._strMap)if(Math.abs(d-Number(o))<1e-8){b=x;break}r.push(b||d/10+"fr")}return r};return{xc:y,yc:m,cw:h(y),rh:h(m)}},idx(t,e){let n=-1,s=1/0;return t.forEach((a,u)=>{let y=Math.abs(a-e);y<s&&(s=y,n=u)}),n},compileCSS(t){let e=this.evalLayout(t);if(!e)return null;let n=[];this.calc(e,0,0,100,100,n,!1,[],[],[],{val:0},1200,{t:0,r:0,b:0,l:0});let{cw:s,rh:a,xc:u,yc:y}=this.mesh(n),m=`display: grid; grid-template-columns: ${s.join(" ")}; grid-template-rows: ${a.join(" ")};`,h="",l=1;for(let r of n){if(r.isSkipped)continue;let i=this.idx(u,r.x)+1,d=this.idx(u,r.x+r.w)+1,b=this.idx(y,r.y)+1,o=this.idx(y,r.y+r.h)+1;r.spanData&&(i=Math.max(1,i-r.spanData.l),b=Math.max(1,b-r.spanData.t),d+=r.spanData.r,o+=r.spanData.b),h+=`
  & > :nth-child(${l++}) { grid-area: ${b} / ${i} / ${o} / ${d};${r.styles?.display==="none"?" display: none;":""} }`}return m+h}};var O=require("react/jsx-runtime");typeof window<"u"&&I();var Y=100,J=61.8,K=38.2,Q="auto",W=({children:t,layout:e,"layout-sm":n,"layout-md":s,"layout-lg":a,"layout-xl":u,"layout-xxl":y,...m})=>{let h=(0,D.useRef)(null),l=()=>{if(typeof window>"u")return;let d=window.innerWidth;if(d>=1400&&typeof y=="object")return y;if(d>=1200&&typeof u=="object")return u;if(d>=992&&typeof a=="object")return a;if(d>=768&&typeof s=="object")return s;if(d>=576&&typeof n=="object")return n;if(typeof e=="object")return e},r=()=>{h.current&&_.render(h.current,l())};(0,D.useEffect)(()=>{r()}),(0,D.useEffect)(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[e,n,s,a,u,y]);let i={...m};return typeof e=="string"&&(i.layout=e),typeof n=="string"&&(i["layout-sm"]=n),typeof s=="string"&&(i["layout-md"]=s),typeof a=="string"&&(i["layout-lg"]=a),typeof u=="string"&&(i["layout-xl"]=u),(0,O.jsx)("div",{ref:h,...i,style:{display:"grid",width:"100%",height:"100%",...m.style},children:t})};0&&(module.exports={Grid,Layout,auto,lg,sm});
