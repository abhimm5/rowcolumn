{"version":3,"sources":["../src/vue.ts","../src/core.ts"],"sourcesContent":["import { defineComponent, h, ref, onMounted, onUpdated, onUnmounted, PropType } from 'vue';\r\nimport { Engine, LayoutNode } from './core';\r\n\r\nexport const Layout = defineComponent({\r\n  name: 'Layout',\r\n  props: {\r\n    layout: { type: [String, Object] as PropType<string | LayoutNode>, required: true },\r\n    'layout-sm': { type: [String, Object] as PropType<string | LayoutNode> },\r\n    'layout-md': { type: [String, Object] as PropType<string | LayoutNode> },\r\n    'layout-lg': { type: [String, Object] as PropType<string | LayoutNode> }\r\n  },\r\n  setup(props, { slots, attrs }) {\r\n    const container = ref<HTMLElement | null>(null);\r\n\r\n    const update = () => {\r\n      if (container.value) {\r\n        const w = window.innerWidth;\r\n        let direct: LayoutNode | undefined;\r\n        if (w >= 992 && typeof props['layout-lg'] === 'object') direct = props['layout-lg'];\r\n        else if (w >= 768 && typeof props['layout-md'] === 'object') direct = props['layout-md'];\r\n        else if (w >= 576 && typeof props['layout-sm'] === 'object') direct = props['layout-sm'];\r\n        else if (typeof props.layout === 'object') direct = props.layout;\r\n        \r\n        Engine.render(container.value, direct);\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      update();\r\n      window.addEventListener('resize', update);\r\n    });\r\n\r\n    onUpdated(() => update());\r\n    onUnmounted(() => window.removeEventListener('resize', update));\r\n\r\n    return () => {\r\n      const domAttrs: any = { ...attrs };\r\n      if (typeof props.layout === 'string') domAttrs.layout = props.layout;\r\n      if (typeof props['layout-sm'] === 'string') domAttrs['layout-sm'] = props['layout-sm'];\r\n      \r\n      return h('div', {\r\n        ref: container,\r\n        style: { display: 'grid', width: '100%', height: '100%' },\r\n        ...domAttrs\r\n      }, slots.default ? slots.default() : []);\r\n    };\r\n  }\r\n});","/**\r\n * ROWS-COLUMNS-LAYOUT: NATIVE EDITION\r\n */\r\n\r\n// --- TYPES ---\r\nexport interface StyleMap { [key: string]: string | number; }\r\nexport interface ChildPropRule { style: StyleMap; indices: number[] | null; }\r\n\r\n// CONSTANTS\r\nconst AUTO_SIZE = 0.000001; // Internal placeholder for 'auto' tracks\r\n\r\n// --- 1. CORE CLASSES ---\r\nexport class LayoutNode {\r\n  constructor(\r\n    public size: number | string,\r\n    public type: 'leaf' | 'col' | 'row' = 'leaf',\r\n    public children: any[] = []\r\n  ) {}\r\n\r\n  isSkippedSelf = false;\r\n  offsetIndices: number[] = [];\r\n  styles: StyleMap = {};\r\n  childPropsRules: ChildPropRule[] = [];\r\n\r\n  // --- NEW: Allow chaining directly on Nodes (fixes auto.col) ---\r\n  col(...children: any[]) { return new LayoutNode(this.size, 'col', children); }\r\n  row(...children: any[]) { return new LayoutNode(this.size, 'row', children); }\r\n\r\n  offset(indices?: number[]) {\r\n    if (Array.isArray(indices)) this.offsetIndices = indices;\r\n    else this.isSkippedSelf = true;\r\n    return this;\r\n  }\r\n  props(s: StyleMap) { this.styles = { ...this.styles, ...s }; return this; }\r\n  childProps(style: StyleMap, indices?: number[]) {\r\n    this.childPropsRules.push({ style, indices: indices || null });\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class Rect {\r\n  constructor(\r\n    public x: number, \r\n    public y: number, \r\n    public w: number, \r\n    public h: number, \r\n    public styles: any, \r\n    public isSkipped: boolean\r\n  ) {}\r\n}\r\n\r\n// --- 2. PROTOTYPE EXTENSIONS ---\r\ndeclare global {\r\n  interface Number { col(...a:any):LayoutNode; row(...a:any):LayoutNode; offset(a?:any):LayoutNode; props(s:any):LayoutNode; childProps(s:any,a?:any):LayoutNode; }\r\n  interface Window { [key:string]: any }\r\n}\r\n\r\nlet installed = false;\r\nexport function installExtensions() {\r\n  if (installed) return; installed = true;\r\n  if ((Number.prototype as any).col) return;\r\n  const n = (v: number) => new LayoutNode(v);\r\n  const P = Number.prototype as any;\r\n  P.col = function(...a:any[]) { return new LayoutNode(this, 'col', a); };\r\n  P.row = function(...a:any[]) { return new LayoutNode(this, 'row', a); };\r\n  P.offset = function(a?:any) { return n(this).offset(a); };\r\n  P.props = function(s:any) { return n(this).props(s); };\r\n  P.childProps = function(s:any, a?:any) { return n(this).childProps(s, a); };\r\n}\r\n\r\n// --- 3. THE ENGINE ---\r\nexport const Engine = {\r\n  bps: { sm: 576, md: 768, lg: 992, xl: 1200, xxl: 1400 } as any,\r\n\r\n  init() {\r\n    installExtensions();\r\n    this.upd();\r\n    if (typeof window !== 'undefined') window.addEventListener('resize', () => this.upd());\r\n  },\r\n\r\n  upd() {\r\n    if (typeof document !== 'undefined') document.querySelectorAll('[layout]').forEach(el => this.render(el as HTMLElement));\r\n  },\r\n\r\n  evalLayout(str: string): LayoutNode | undefined {\r\n    if (!str) return undefined;\r\n    try {\r\n      // FIX: Pass 'auto' as a LayoutNode, not a string\r\n      const func = new Function('lg', 'sm', 'Grid', 'auto', 'return ' + str);\r\n      return func(61.8, 38.2, 100, new LayoutNode('auto')); \r\n    } catch (e) {\r\n      console.error(`Layout Error: \"${str}\"`, e);\r\n      return undefined;\r\n    }\r\n  },\r\n\r\n  isNode(n: any): boolean {\r\n    return n && typeof n === 'object' && Array.isArray(n.children) && (n.type === 'col' || n.type === 'row' || n.type === 'leaf');\r\n  },\r\n\r\n  render(el: HTMLElement, direct?: LayoutNode) {\r\n    installExtensions();\r\n    \r\n    let tree = direct;\r\n    if (!tree) {\r\n      const w = window.innerWidth;\r\n      const bps = ['xxl', 'xl', 'lg', 'md', 'sm'];\r\n      let attr = el.getAttribute('layout');\r\n      for (let b of bps) if (w >= this.bps[b] && el.hasAttribute(`layout-${b}`)) { attr = el.getAttribute(`layout-${b}`); break; }\r\n      \r\n      if (attr) tree = this.evalLayout(attr);\r\n    }\r\n    \r\n    if (!tree) return;\r\n\r\n    if (tree.styles) Object.assign(el.style, tree.styles);\r\n\r\n    const domStyles: ChildPropRule[] = [];\r\n    const scan = (n: any) => {\r\n       if(this.isNode(n)) {\r\n         if(n.childPropsRules) domStyles.push(...n.childPropsRules);\r\n         n.children.forEach(scan);\r\n       }\r\n    };\r\n    scan(tree);\r\n\r\n    const leaves: Rect[] = [];\r\n    this.calc(tree, 0, 0, 100, 100, leaves, false, []);\r\n\r\n    const { cw, rh, xc, yc } = this.mesh(leaves);\r\n    el.style.gridTemplateColumns = cw.join(' ');\r\n    el.style.gridTemplateRows = rh.join(' ');\r\n\r\n    const kids = Array.from(el.children) as HTMLElement[];\r\n    kids.forEach((k) => { k.style.gridColumn=''; k.style.gridRow=''; k.style.cssText=''; });\r\n\r\n    kids.forEach((k, i) => {\r\n       domStyles.forEach(r => {\r\n         if (!r.indices || r.indices.includes(i + 1)) Object.assign(k.style, r.style);\r\n       });\r\n    });\r\n\r\n    let kidIdx = 0;\r\n    leaves.forEach(l => {\r\n       if (l.isSkipped) return;\r\n       if (!kids[kidIdx]) return;\r\n       const k = kids[kidIdx++];\r\n       \r\n       const cs = this.idx(xc, l.x) + 1;\r\n       const ce = this.idx(xc, l.x + l.w) + 1;\r\n       const rs = this.idx(yc, l.y) + 1;\r\n       const re = this.idx(yc, l.y + l.h) + 1;\r\n\r\n       k.style.gridColumn = `${cs} / ${ce}`;\r\n       k.style.gridRow = `${rs} / ${re}`;\r\n       \r\n       if (l.styles) Object.assign(k.style, l.styles);\r\n    });\r\n  },\r\n\r\n  calc(n: any, x: number, y: number, w: number, h: number, leaves: Rect[], pSkip: boolean, offRules: any[]) {\r\n    if (!n) return;\r\n    if (typeof n === 'number' || n === 'auto') n = new LayoutNode(n === 'auto' ? 'auto' : n, 'leaf');\r\n\r\n    const isLayoutNode = this.isNode(n);\r\n    const skip = pSkip || (isLayoutNode && n.isSkippedSelf);\r\n    const offs = [...offRules];\r\n    if (isLayoutNode && n.offsetIndices?.length) offs.push({ idx: n.offsetIndices, c: 0 });\r\n\r\n    if (!isLayoutNode || !n.children.length) {\r\n       let finalSkip = skip;\r\n       offs.forEach(r => { r.c++; if (r.idx.includes(r.c)) finalSkip = true; });\r\n       const s = isLayoutNode ? n.styles : {}; \r\n       leaves.push(new Rect(x, y, w, h, s, finalSkip));\r\n       return;\r\n    }\r\n\r\n    let tw = 0;\r\n    n.children.forEach((c: any) => {\r\n       let s = this.isNode(c) ? c.size : c;\r\n       if (s === 'auto') s = 0; \r\n       else if (this.isNode(c) && c.size === 0) s = 1; \r\n       tw += Number(s);\r\n    });\r\n    if(tw === 0) tw = 1;\r\n\r\n    let pos = (n.type === 'col') ? x : y;\r\n    \r\n    n.children.forEach((c: any) => {\r\n       let s = this.isNode(c) ? c.size : c;\r\n       const isAuto = (s === 'auto');\r\n       let numSize = isAuto ? 0 : Number(s);\r\n       if (this.isNode(c) && c.size === 0 && !isAuto) numSize = 1;\r\n\r\n       let r = numSize / tw; \r\n\r\n       if (n.type === 'col') {\r\n          let cw = isAuto ? AUTO_SIZE : (w * r);\r\n          this.calc(c, pos, y, cw, h, leaves, skip, offs); \r\n          pos += cw;\r\n       } else {\r\n          let ch = isAuto ? AUTO_SIZE : (h * r);\r\n          this.calc(c, x, pos, w, ch, leaves, skip, offs); \r\n          pos += ch;\r\n       }\r\n    });\r\n  },\r\n\r\n  mesh(leaves: Rect[]) {\r\n    let rx = [0, 100], ry = [0, 100];\r\n    leaves.forEach(r => { rx.push(r.x, r.x + r.w); ry.push(r.y, r.y + r.h); });\r\n    \r\n    const dedup = (a: number[]) => [...new Set(a.sort((a,b)=>a-b))].filter((v,i,s)=>i===0|| Math.abs(v-s[i-1]) > (AUTO_SIZE/10));\r\n    const xc = dedup(rx), yc = dedup(ry);\r\n\r\n    const getTracks = (cuts: number[]) => {\r\n        const tracks = [];\r\n        for(let i=1; i<cuts.length; i++) {\r\n            let size = cuts[i] - cuts[i-1];\r\n            if (Math.abs(size - AUTO_SIZE) < 0.0000001) tracks.push('auto');\r\n            else tracks.push(size + 'fr');\r\n        }\r\n        return tracks;\r\n    };\r\n\r\n    return { xc, yc, cw: getTracks(xc), rh: getTracks(yc) };\r\n  },\r\n\r\n  idx(arr: number[], val: number) {\r\n    let idx = -1, min = Infinity;\r\n    arr.forEach((v, i) => { let d = Math.abs(v - val); if (d < min) { min = d; idx = i; } });\r\n    return idx;\r\n  }\r\n};"],"mappings":"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","names":["h","a"]}