{"version":3,"sources":["../src/react.tsx","../src/core.ts"],"sourcesContent":["import React, { useRef, useEffect, ReactNode, HTMLAttributes } from 'react';\r\nimport { Engine, LayoutNode, installExtensions } from './core';\r\n\r\n// AUTO-INSTALL EXTENSIONS\r\nif (typeof window !== 'undefined') {\r\n  installExtensions();\r\n}\r\n\r\n// RE-EXPORT CONSTANTS\r\nexport const Grid = 100;\r\nexport const lg = 61.8;\r\nexport const sm = 38.2;\r\nexport const auto = 'auto';\r\n\r\ninterface LayoutProps extends Omit<HTMLAttributes<HTMLDivElement>, 'color'> {\r\n  layout: string | LayoutNode;\r\n  'layout-sm'?: string | LayoutNode;\r\n  'layout-md'?: string | LayoutNode;\r\n  'layout-lg'?: string | LayoutNode;\r\n  'layout-xl'?: string | LayoutNode;\r\n  'layout-xxl'?: string | LayoutNode;\r\n  children: ReactNode;\r\n}\r\n\r\nexport const Layout: React.FC<LayoutProps> = ({ \r\n  children, layout, 'layout-sm': lSm, 'layout-md': lMd, 'layout-lg': lLg, 'layout-xl': lXl, 'layout-xxl': lXxl, ...rest \r\n}) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  const getLayout = () => {\r\n    if (typeof window === 'undefined') return undefined;\r\n    const w = window.innerWidth;\r\n    if (w >= 1400 && typeof lXxl === 'object') return lXxl as LayoutNode;\r\n    if (w >= 1200 && typeof lXl === 'object') return lXl as LayoutNode;\r\n    if (w >= 992 && typeof lLg === 'object') return lLg as LayoutNode;\r\n    if (w >= 768 && typeof lMd === 'object') return lMd as LayoutNode;\r\n    if (w >= 576 && typeof lSm === 'object') return lSm as LayoutNode;\r\n    if (typeof layout === 'object') return layout as LayoutNode;\r\n    return undefined; \r\n  };\r\n\r\n  const render = () => { if (ref.current) Engine.render(ref.current, getLayout()); };\r\n\r\n  useEffect(() => { render(); });\r\n  useEffect(() => {\r\n    window.addEventListener('resize', render);\r\n    return () => window.removeEventListener('resize', render);\r\n  }, [layout, lSm, lMd, lLg, lXl, lXxl]);\r\n\r\n  const domProps: any = { ...rest };\r\n  if (typeof layout === 'string') domProps.layout = layout;\r\n  if (typeof lSm === 'string') domProps['layout-sm'] = lSm;\r\n  if (typeof lMd === 'string') domProps['layout-md'] = lMd;\r\n  if (typeof lLg === 'string') domProps['layout-lg'] = lLg;\r\n  if (typeof lXl === 'string') domProps['layout-xl'] = lXl;\r\n\r\n  return (\r\n    <div ref={ref} {...domProps} style={{ display: 'grid', width: '100%', height: '100%', ...rest.style }}>\r\n      {children}\r\n    </div>\r\n  );\r\n};","/**\r\n * ROWS-COLUMNS-LAYOUT: NATIVE EDITION\r\n */\r\n\r\n// --- TYPES ---\r\nexport interface StyleMap { [key: string]: string | number; }\r\nexport interface ChildPropRule { style: StyleMap; indices: number[] | null; }\r\n\r\n// CONSTANTS\r\nconst AUTO_SIZE = 0.000001; // Internal placeholder for 'auto' tracks\r\n\r\n// --- 1. CORE CLASSES ---\r\nexport class LayoutNode {\r\n  constructor(\r\n    public size: number | string,\r\n    public type: 'leaf' | 'col' | 'row' = 'leaf',\r\n    public children: any[] = []\r\n  ) {}\r\n\r\n  isSkippedSelf = false;\r\n  offsetIndices: number[] = [];\r\n  styles: StyleMap = {};\r\n  childPropsRules: ChildPropRule[] = [];\r\n\r\n  col(...children: any[]) { return new LayoutNode(this.size, 'col', children); }\r\n  row(...children: any[]) { return new LayoutNode(this.size, 'row', children); }\r\n\r\n  offset(indices?: number[]) {\r\n    if (Array.isArray(indices)) this.offsetIndices = indices;\r\n    else this.isSkippedSelf = true;\r\n    return this;\r\n  }\r\n  props(s: StyleMap) { this.styles = { ...this.styles, ...s }; return this; }\r\n  childProps(style: StyleMap, indices?: number[]) {\r\n    this.childPropsRules.push({ style, indices: indices || null });\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class Rect {\r\n  constructor(\r\n    public x: number, \r\n    public y: number, \r\n    public w: number, \r\n    public h: number, \r\n    public styles: any, \r\n    public isSkipped: boolean,\r\n    public customSize?: string \r\n  ) {}\r\n}\r\n\r\n// --- 2. PROTOTYPE EXTENSIONS ---\r\ndeclare global {\r\n  interface Number { col(...a:any):LayoutNode; row(...a:any):LayoutNode; offset(a?:any):LayoutNode; props(s:any):LayoutNode; childProps(s:any,a?:any):LayoutNode; }\r\n  interface String { col(...a:any):LayoutNode; row(...a:any):LayoutNode; offset(a?:any):LayoutNode; props(s:any):LayoutNode; childProps(s:any,a?:any):LayoutNode; }\r\n  interface Window { [key:string]: any }\r\n}\r\n\r\nlet installed = false;\r\nexport function installExtensions() {\r\n  if (installed) return; installed = true;\r\n  \r\n  const n = (v: number | string) => new LayoutNode(v);\r\n\r\n  if (!(Number.prototype as any).col) {\r\n    const P = Number.prototype as any;\r\n    P.col = function(...a:any[]) { return new LayoutNode(this, 'col', a); };\r\n    P.row = function(...a:any[]) { return new LayoutNode(this, 'row', a); };\r\n    P.offset = function(a?:any) { return n(this).offset(a); };\r\n    P.props = function(s:any) { return n(this).props(s); };\r\n    P.childProps = function(s:any, a?:any) { return n(this).childProps(s, a); };\r\n  }\r\n\r\n  if (!(String.prototype as any).col) {\r\n    const S = String.prototype as any;\r\n    S.col = function(...a:any[]) { return new LayoutNode(String(this), 'col', a); };\r\n    S.row = function(...a:any[]) { return new LayoutNode(String(this), 'row', a); };\r\n    S.offset = function(a?:any) { return n(String(this)).offset(a); };\r\n    S.props = function(s:any) { return n(String(this)).props(s); };\r\n    S.childProps = function(s:any, a?:any) { return n(String(this)).childProps(s, a); };\r\n  }\r\n}\r\n\r\n// --- 3. THE ENGINE ---\r\nexport const Engine = {\r\n  bps: { sm: 576, md: 768, lg: 992, xl: 1200, xxl: 1400 } as any,\r\n  _strMap: new Map<number, string>(),\r\n  _strCounter: 0,\r\n\r\n  init() {\r\n    installExtensions();\r\n    this.upd();\r\n    if (typeof window !== 'undefined') window.addEventListener('resize', () => this.upd());\r\n  },\r\n\r\n  upd() {\r\n    if (typeof document !== 'undefined') document.querySelectorAll('[layout]').forEach(el => this.render(el as HTMLElement));\r\n  },\r\n\r\n  evalLayout(str: string): LayoutNode | undefined {\r\n    if (!str) return undefined;\r\n    try {\r\n      const func = new Function('lg', 'sm', 'Grid', 'auto', 'return ' + str);\r\n      return func(61.8, 38.2, 100, 'auto');\r\n    } catch (e) {\r\n      console.error(`Layout Error: \"${str}\"`, e);\r\n      return undefined;\r\n    }\r\n  },\r\n\r\n  isNode(n: any): boolean {\r\n    return n && typeof n === 'object' && Array.isArray(n.children) && (n.type === 'col' || n.type === 'row' || n.type === 'leaf');\r\n  },\r\n\r\n  render(el: HTMLElement, direct?: LayoutNode) {\r\n    installExtensions();\r\n    \r\n    let tree = direct;\r\n    if (!tree) {\r\n      const w = window.innerWidth;\r\n      const bps = ['xxl', 'xl', 'lg', 'md', 'sm'];\r\n      let attr = el.getAttribute('layout');\r\n      for (let b of bps) if (w >= this.bps[b] && el.hasAttribute(`layout-${b}`)) { attr = el.getAttribute(`layout-${b}`); break; }\r\n      \r\n      if (attr) tree = this.evalLayout(attr);\r\n    }\r\n    \r\n    if (!tree) return;\r\n\r\n    if (tree.styles) Object.assign(el.style, tree.styles);\r\n\r\n    const domStyles: ChildPropRule[] = [];\r\n    const scan = (n: any) => {\r\n       if(this.isNode(n)) {\r\n         if(n.childPropsRules) domStyles.push(...n.childPropsRules);\r\n         n.children.forEach(scan);\r\n       }\r\n    };\r\n    scan(tree);\r\n\r\n    const leaves: Rect[] = [];\r\n    this.calc(tree, 0, 0, 100, 100, leaves, false, []);\r\n\r\n    const { cw, rh, xc, yc } = this.mesh(leaves);\r\n    el.style.gridTemplateColumns = cw.join(' ');\r\n    el.style.gridTemplateRows = rh.join(' ');\r\n\r\n    const kids = Array.from(el.children) as HTMLElement[];\r\n    kids.forEach((k) => { k.style.gridColumn=''; k.style.gridRow=''; k.style.cssText=''; });\r\n\r\n    kids.forEach((k, i) => {\r\n       domStyles.forEach(r => {\r\n         if (!r.indices || r.indices.includes(i + 1)) Object.assign(k.style, r.style);\r\n       });\r\n    });\r\n\r\n    let kidIdx = 0;\r\n    leaves.forEach(l => {\r\n       if (l.isSkipped) return;\r\n       if (!kids[kidIdx]) return;\r\n       const k = kids[kidIdx++];\r\n       \r\n       const cs = this.idx(xc, l.x) + 1;\r\n       const ce = this.idx(xc, l.x + l.w) + 1;\r\n       const rs = this.idx(yc, l.y) + 1;\r\n       const re = this.idx(yc, l.y + l.h) + 1;\r\n\r\n       k.style.gridColumn = `${cs} / ${ce}`;\r\n       k.style.gridRow = `${rs} / ${re}`;\r\n       \r\n       if (l.styles) Object.assign(k.style, l.styles);\r\n    });\r\n  },\r\n\r\n  calc(n: any, x: number, y: number, w: number, h: number, leaves: Rect[], pSkip: boolean, offRules: any[]) {\r\n    if (!n) return;\r\n    if (typeof n === 'number' || n === 'auto') n = new LayoutNode(n === 'auto' ? 'auto' : n, 'leaf');\r\n\r\n    const isLayoutNode = this.isNode(n);\r\n    const skip = pSkip || (isLayoutNode && n.isSkippedSelf);\r\n    const offs = [...offRules];\r\n    if (isLayoutNode && n.offsetIndices?.length) offs.push({ idx: n.offsetIndices, c: 0 });\r\n\r\n    let customSize = undefined;\r\n    if (isLayoutNode && typeof n.size === 'string') customSize = n.size;\r\n\r\n    if (!isLayoutNode || !n.children.length) {\r\n       let finalSkip = skip;\r\n       offs.forEach(r => { r.c++; if (r.idx.includes(r.c)) finalSkip = true; });\r\n       const s = isLayoutNode ? n.styles : {}; \r\n       leaves.push(new Rect(x, y, w, h, s, finalSkip, customSize));\r\n       return;\r\n    }\r\n\r\n    let tw = 0;\r\n    n.children.forEach((c: any) => {\r\n       let s = this.isNode(c) ? c.size : c;\r\n       if (typeof s === 'string') s = 0;\r\n       else if (this.isNode(c) && c.size === 0) s = 1; \r\n       tw += Number(s);\r\n    });\r\n    if(tw === 0) tw = 1; \r\n\r\n    let pos = (n.type === 'col') ? x : y;\r\n    \r\n    n.children.forEach((c: any) => {\r\n       let s = this.isNode(c) ? c.size : c;\r\n       let isString = (typeof s === 'string');\r\n       \r\n       let numSize = isString ? 0 : Number(s);\r\n       if (this.isNode(c) && c.size === 0 && !isString) numSize = 1;\r\n\r\n       let r = numSize / tw; \r\n\r\n       let stringWidth = 0;\r\n       if (isString) {\r\n           this._strCounter++;\r\n           stringWidth = AUTO_SIZE + (this._strCounter * 0.0000001);\r\n           this._strMap.set(stringWidth, s as string); \r\n       }\r\n\r\n       if (n.type === 'col') {\r\n          let cw = isString ? stringWidth : (w * r);\r\n          this.calc(c, pos, y, cw, h, leaves, skip, offs); \r\n          pos += cw;\r\n       } else {\r\n          let ch = isString ? stringWidth : (h * r);\r\n          this.calc(c, x, pos, w, ch, leaves, skip, offs); \r\n          pos += ch;\r\n       }\r\n    });\r\n  },\r\n\r\n  mesh(leaves: Rect[]) {\r\n    this._strCounter = 0; \r\n    \r\n    // FIX STARTS HERE\r\n    let rx = [0], ry = [0]; // Initialize with 0\r\n    let maxX = 0, maxY = 0;\r\n\r\n    leaves.forEach(r => { \r\n        rx.push(r.x, r.x + r.w); \r\n        ry.push(r.y, r.y + r.h); \r\n        \r\n        // Track maximum coordinate used\r\n        if(r.x + r.w > maxX) maxX = r.x + r.w;\r\n        if(r.y + r.h > maxY) maxY = r.y + r.h;\r\n    });\r\n    \r\n    // Only push 100 if the layout actually extends that far.\r\n    // Pure 'auto' layouts have microscopic coordinates (< 1).\r\n    if (maxX > 1) rx.push(100);\r\n    if (maxY > 1) ry.push(100);\r\n    // FIX ENDS HERE\r\n\r\n    const dedup = (arr: number[]) => [...new Set(arr.sort((a,b)=>a-b))].filter((v,i,s)=>i===0|| Math.abs(v-s[i-1]) > 0.00000001);\r\n    const xc = dedup(rx);\r\n    const yc = dedup(ry);\r\n\r\n    const getTracks = (cuts: number[]) => {\r\n        const tracks = [];\r\n        for(let i=1; i<cuts.length; i++) {\r\n            let size = cuts[i] - cuts[i-1];\r\n            \r\n            let foundString = null;\r\n            for (let [k, v] of this._strMap) {\r\n                if (Math.abs(size - k) < 0.00000001) {\r\n                    foundString = v;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (foundString) tracks.push(foundString);\r\n            else tracks.push(size + 'fr');\r\n        }\r\n        return tracks;\r\n    };\r\n\r\n    return { xc, yc, cw: getTracks(xc), rh: getTracks(yc) };\r\n  },\r\n\r\n  idx(arr: number[], val: number) {\r\n    let idx = -1, min = Infinity;\r\n    arr.forEach((v, i) => { let d = Math.abs(v - val); if (d < min) { min = d; idx = i; } });\r\n    return idx;\r\n  }\r\n};"],"mappings":"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","names":[]}