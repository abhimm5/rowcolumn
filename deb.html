<!DOCTYPE html>
<html>

<head>
  <style type="text/css" id="dcoder_stylesheet">
    .one,
    .two,
    .three,
    .four,
    .five,
    .six {
      background-color: gray;
      padding: 5px;
    }

    body {
      margin: 0px;
      height: 100%;
    }

    .odd {
      background-color: yellow;
    }
  </style>
</head>

<body>
  <grid layout="splitting(30,12,12)">
    <div class="one" id="first">
      One
    </div>
    <div class="odd" id="test">
      two
    </div>
    <div class="one">
      three
    </div>
    <div class="odd" id="test2">
      four
    </div>
    <div class="one">
      One
    </div>
    <div class="odd" id="test">
      two
    </div>
    <div class="one">
      three
    </div>
    <div class="odd" id="test2">
      four
    </div>
  </grid>
  <p id="testing">jgjfgj</p>
  <p id="testing2">jgjfgj</p>


  <p id="demo"></p>

  <script>
    var main = document.getElementsByTagName("grid")[0];
    main.style.display = "grid";

    const vp = ["vw", "vh"];
    const dirKey = ["perpendicular", "parallel", "both", "none"];
    const units = ["vh", "%", "em"];
    const baseNums = [38.2, 61.8, 100, 1.618, 0];
    const layNames = ["split1", "split2", "direction", "rotation", "modify", "clear"];

    const ratio = 1.618;
    const parent = 100;
    const lg = 61.2;
    const sm = 38.8;

    const verGrids = [];
    const horGrids = [];
    const gridLines = []

    grid = (value) => {
      Object.values(value).map((element, index, array) => {
        if (array[2] == 'perpendicular' && typeof element !== 'string') {
          if(typeof element == 'object'){
            let getValues = Object.values(element).slice(0,2);
            if(getValues.every((currentValue) => !isNaN(currentValue))){
              getValues.reduce((sum,num) => verGrids.push(sum+num))
            }
            grid(element)
          }
          else{
            verGrids.push(element)
          }
        }
        if (array[2] == 'parallel' && typeof element !== 'string') {
          if(typeof element == 'object'){
            let getValues = Object.values(element).slice(0,2);
            if(getValues.every((currentValue) => !isNaN(currentValue))){
              getValues.reduce((sum,num) => verGrids.push(sum+num))
            }
            grid(element)
          }
          else{
            horGrids.push(element)
          }
          
        }
      })
    }

    Number.prototype.splits = function (a, b, c) {
      let result = {};
      for (var i = 0; i < arguments.length; i++) {
        result[layNames[i]] = (!isNaN(arguments[i]) ? (Math.round(this * arguments[i] * 1) / 100) : arguments[i]);
      }
      return result;
    }

    var k = (100).splits(lg.splits(lg,sm,"parallel"), sm.splits(lg, sm, "parallel"), "perpendicular");
    grid(k)
    console.log(verGrids, horGrids)
    main.style.gridTemplateColumns = verGrids.toString().replace(",", " ");
    main.style.gridTemplateRows = horGrids.toString().replace(",", " ")


    console.log(k)
  </script>

</body>

</html>